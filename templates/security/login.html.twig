{% extends 'layouts/auth.html.twig' %}

{% block title %}Log in!{% endblock %}

{% block body %}
    {#<form method="post">#}
    {#    {% if error %}#}
    {#        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>#}
    {#    {% endif %}#}

    {#    {% if app.user %}#}
    {#        <div class="mb-3">#}
    {#            You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>#}
    {#        </div>#}
    {#    {% endif %}#}

    {#    <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>#}
    {#    <label for="inputEmail">Email</label>#}
    {#    <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus>#}
    {#    <label for="inputPassword">Password</label>#}
    {#    <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required>#}

    {#    <input type="hidden" name="_csrf_token"#}
    {#           value="{{ csrf_token('authenticate') }}"#}
    {#    >#}

    {#    #}{##}
    {#        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.#}
    {#        See https://symfony.com/doc/current/security/remember_me.html#}

    {#        <div class="checkbox mb-3">#}
    {#            <label>#}
    {#                <input type="checkbox" name="_remember_me"> Remember me#}
    {#            </label>#}
    {#        </div>#}
    {#    #}

    {#    <button class="btn btn-lg btn-primary" type="submit">#}
    {#        Sign in#}
    {#    </button>#}
    {#</form>#}
    <div class="login-reg-panel">
        <div class="login-info-box">
            <h2>Have an account?</h2>
            <p>Lorem ipsum dolor sit amet</p>
            <label id="label-register" for="log-reg-show">Login</label>
            <input type="radio" name="active-log-panel" id="log-reg-show" checked="checked">
        </div>

        <div class="register-info-box">
            <h2>Don't have an account?</h2>
            <p>Lorem ipsum dolor sit amet</p>
            <label id="label-login" for="log-login-show">Register</label>
            <input type="radio" name="active-log-panel" id="log-login-show">
        </div>

        <div class="white-panel">
            <div class="login-show">
                <h2>LOGIN</h2>
                <form method="post">
                    {% if error %}
                        <div class="alert alert-danger">{{ error.messageKey|trans(error.messageData, 'security') }}</div>
                    {% endif %}

                    {% if app.user %}
                        <div class="mb-3">
                            You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>
                        </div>
                    {% endif %}
                    <input type="email" value="{{ last_username }}" name="email" placeholder="Email"
                           autocomplete="email" required autofocus>
                    <input type="password" name="password" placeholder="Password">
                    <input type="hidden" name="_csrf_token"
                           value="{{ csrf_token('authenticate') }}"
                    >
                    <input type="submit" value="Login">
                </form>
                <a href="">Forgot password?</a>
            </div>
            <div class="register-show">
                <h2>REGISTER</h2>
                <form method="post" action="{{ path('app_ajax_register') }}">
                <input type="text" name="registration_form[email]" placeholder="Email" required>
                <input type="password" placeholder="Password" name="registration_form[plainPassword]" required>
                <input type="password" placeholder="Confirm password" name="plainPassword_validation" required>
                <input type="submit" value="Register">
                </form>
            </div>
        </div>
    </div>
{% endblock %}
